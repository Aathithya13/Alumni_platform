{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Selva\\\\OneDrive\\\\Desktop\\\\Alumini\\\\frontend\\\\client\\\\src\\\\components\\\\EditPost.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport axios from 'axios';\nimport '../css/EditPost.css'; // Import the CSS file\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction EditPost() {\n  _s();\n  const {\n    id\n  } = useParams();\n  const [description, setDescription] = useState('');\n  const [reference, setReference] = useState('');\n  const [category, setCategory] = useState('');\n  const [image, setImage] = useState(null);\n  const [currentImage, setCurrentImage] = useState('');\n  const navigate = useNavigate();\n  const handleImage = e => {\n    setImage(e.target.files[0]);\n  };\n  const handleCategory = e => {\n    setCategory(e.target.value);\n  };\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await axios.get(`http://localhost:5000/post/${id}`);\n        const {\n          image,\n          description,\n          reference,\n          category\n        } = response.data.post;\n        setCurrentImage(image);\n        setDescription(description);\n        setReference(reference);\n        setCategory(category);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    fetchData();\n  }, [id]);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const token = localStorage.getItem('token');\n    const formData = new FormData();\n    formData.append('description', description);\n    formData.append('reference', reference);\n    formData.append('category', category);\n    if (image) {\n      formData.append('postImage', image);\n    }\n    try {\n      const response = await axios.post(`http://localhost:5000/edit/${id}`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      console.log(response.data);\n      navigate(`/post/${id}`);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"edit-post-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Edit Post\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"edit-post-form\",\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"description\",\n        children: \"Description\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"description\",\n        value: description,\n        onChange: e => setDescription(e.target.value),\n        placeholder: \"Description\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"reference\",\n        children: \"Reference Link\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"url\",\n        id: \"reference\",\n        value: reference,\n        onChange: e => setReference(e.target.value),\n        placeholder: \"Reference Link\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }, this), currentImage && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Current Image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: `http://localhost:5000/public/posts/${currentImage}`,\n          alt: \"Current Post\",\n          width: \"200\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"image\",\n        children: \"Upload New Image\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        id: \"image\",\n        onChange: handleImage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"category\",\n        children: \"Category\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        id: \"category\",\n        name: \"category\",\n        value: category,\n        onChange: handleCategory,\n        required: true,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Select Category\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Event\",\n          children: \"Event\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"News\",\n          children: \"News\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Jobs\",\n          children: \"Jobs\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Internship\",\n          children: \"Internship\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 9\n  }, this);\n}\n_s(EditPost, \"Cr5U1IJ3k8S3tDkobx8qYWvdCkE=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = EditPost;\nexport default EditPost;\nvar _c;\n$RefreshReg$(_c, \"EditPost\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","useParams","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","EditPost","_s","id","description","setDescription","reference","setReference","category","setCategory","image","setImage","currentImage","setCurrentImage","navigate","handleImage","e","target","files","handleCategory","value","fetchData","response","get","data","post","err","console","log","handleSubmit","preventDefault","token","localStorage","getItem","formData","FormData","append","headers","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","htmlFor","type","onChange","placeholder","required","src","alt","width","name","_c","$RefreshReg$"],"sources":["C:/Users/Selva/OneDrive/Desktop/Alumini/frontend/client/src/components/EditPost.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport '../css/EditPost.css';  // Import the CSS file\r\n\r\nfunction EditPost() {\r\n    const { id } = useParams();  \r\n    const [description, setDescription] = useState('');  \r\n    const [reference, setReference] = useState(''); \r\n    const [category, setCategory] = useState(''); \r\n    const [image, setImage] = useState(null); \r\n    const [currentImage, setCurrentImage] = useState('');  \r\n    const navigate = useNavigate();  \r\n\r\n    const handleImage = (e) => {\r\n        setImage(e.target.files[0]); \r\n    };\r\n\r\n    const handleCategory = (e) => {\r\n        setCategory(e.target.value);\r\n    };\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            try {\r\n                const response = await axios.get(`http://localhost:5000/post/${id}`);\r\n                const { image, description, reference, category } = response.data.post;\r\n                \r\n                setCurrentImage(image);  \r\n                setDescription(description);  \r\n                setReference(reference);  \r\n                setCategory(category);  \r\n            } catch (err) {\r\n                console.log(err);\r\n            }\r\n        };\r\n        fetchData();  \r\n    }, [id]);  \r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault(); \r\n        const token = localStorage.getItem('token');\r\n        const formData = new FormData();  \r\n        formData.append('description', description);\r\n        formData.append('reference', reference);\r\n        formData.append('category', category);\r\n        if (image) {\r\n            formData.append('postImage', image);  \r\n        }\r\n\r\n        try {\r\n            const response = await axios.post(`http://localhost:5000/edit/${id}`, formData, {\r\n                headers: {\r\n                    'Content-Type': 'multipart/form-data',\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            });\r\n            console.log(response.data);\r\n            navigate(`/post/${id}`);  \r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"edit-post-container\">\r\n            <h1>Edit Post</h1>\r\n            <form className=\"edit-post-form\" onSubmit={handleSubmit}>\r\n                <label htmlFor=\"description\">Description</label>\r\n                <input \r\n                    type=\"text\"\r\n                    id=\"description\"\r\n                    value={description}\r\n                    onChange={(e) => setDescription(e.target.value)}\r\n                    placeholder=\"Description\"\r\n                    required\r\n                />\r\n                <label htmlFor=\"reference\">Reference Link</label>\r\n                <input \r\n                    type=\"url\"\r\n                    id=\"reference\"\r\n                    value={reference}\r\n                    onChange={(e) => setReference(e.target.value)}\r\n                    placeholder=\"Reference Link\"\r\n                    required\r\n                />\r\n                {currentImage && (\r\n                    <>\r\n                        <label>Current Image</label>\r\n                        <img \r\n                            src={`http://localhost:5000/public/posts/${currentImage}`} \r\n                            alt=\"Current Post\" \r\n                            width=\"200\" \r\n                        />\r\n                    </>\r\n                )}\r\n                <label htmlFor=\"image\">Upload New Image</label>\r\n                <input \r\n                    type=\"file\"\r\n                    id=\"image\"\r\n                    onChange={handleImage}\r\n                />\r\n                <label htmlFor=\"category\">Category</label>\r\n                <select\r\n                    id=\"category\"\r\n                    name=\"category\"\r\n                    value={category}\r\n                    onChange={handleCategory}\r\n                    required\r\n                >\r\n                    <option value=\"\">Select Category</option>\r\n                    <option value=\"Event\">Event</option>\r\n                    <option value=\"News\">News</option>\r\n                    <option value=\"Jobs\">Jobs</option>\r\n                    <option value=\"Internship\">Internship</option>\r\n                </select>\r\n                <button type=\"submit\">Submit</button>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default EditPost;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}