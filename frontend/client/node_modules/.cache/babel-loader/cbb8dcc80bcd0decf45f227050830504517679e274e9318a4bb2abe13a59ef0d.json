{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Selva\\\\OneDrive\\\\Desktop\\\\Alumini\\\\frontend\\\\client\\\\src\\\\components\\\\EditPost.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction EditPost() {\n  _s();\n  const {\n    id\n  } = useParams();\n  const [description, setDescription] = useState('');\n  const [reference, setReference] = useState('');\n  const [image, setImage] = useState(null);\n  const [currentImage, setCurrentImage] = useState('');\n  const navigate = useNavigate();\n  const handleImage = e => {\n    setImage(e.target.files[0]);\n  };\n  const handleCategory = e;\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await axios.get(`http://localhost:5000/post/${id}`);\n        const {\n          image,\n          description,\n          reference\n        } = response.data.post;\n        setCurrentImage(image);\n        setDescription(description);\n        setReference(reference);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    fetchData();\n  }, [id]);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const token = localStorage.getItem('token');\n    console.log(\"Form Submitted\");\n    const formData = new FormData();\n    formData.append('description', description);\n    formData.append('reference', reference);\n    if (image) {\n      formData.append('postImage', image);\n    }\n    try {\n      const response = await axios.post(`http://localhost:5000/edit/${id}`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      console.log(response.data);\n      navigate(`/post/${id}`);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: description,\n        onChange: e => setDescription(e.target.value),\n        placeholder: \"Description\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"url\",\n        value: reference,\n        onChange: e => setReference(e.target.value),\n        placeholder: \"Reference Link\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this), currentImage && /*#__PURE__*/_jsxDEV(\"img\", {\n        src: `http://localhost:5000/public/posts/${currentImage}`,\n        alt: \"Current Post\",\n        width: \"200\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 34\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        onChange: handleImage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"category\",\n        value: category,\n        onChange: handleCategory,\n        required: true,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"SelectCategory\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Event\",\n          children: \"Event\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"News\",\n          children: \"News\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Jobs\",\n          children: \"Jobs\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"InternShip\",\n          children: \"InternShip\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 9\n  }, this);\n}\n_s(EditPost, \"dgq+M2sMOsDl2tmLjgs0din57uo=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = EditPost;\nexport default EditPost;\nvar _c;\n$RefreshReg$(_c, \"EditPost\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","useParams","axios","jsxDEV","_jsxDEV","EditPost","_s","id","description","setDescription","reference","setReference","image","setImage","currentImage","setCurrentImage","navigate","handleImage","e","target","files","handleCategory","fetchData","response","get","data","post","err","console","log","handleSubmit","preventDefault","token","localStorage","getItem","formData","FormData","append","headers","children","onSubmit","type","value","onChange","placeholder","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","width","name","category","required","_c","$RefreshReg$"],"sources":["C:/Users/Selva/OneDrive/Desktop/Alumini/frontend/client/src/components/EditPost.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nfunction EditPost() {\r\n    const { id } = useParams();  \r\n    const [description, setDescription] = useState('');  \r\n    const [reference, setReference] = useState('');  \r\n    const [image, setImage] = useState(null); \r\n    const [currentImage, setCurrentImage] = useState('');  \r\n    const navigate = useNavigate();  \r\n\r\n    \r\n    const handleImage = (e) => {\r\n        setImage(e.target.files[0]); \r\n    };\r\n\r\n    const handleCategory = (e)\r\n\r\n    \r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            try {\r\n                const response = await axios.get(`http://localhost:5000/post/${id}`);\r\n                const { image, description, reference } = response.data.post;\r\n                \r\n                setCurrentImage(image);  \r\n                setDescription(description);  \r\n                setReference(reference);  \r\n            } catch (err) {\r\n                console.log(err);\r\n            }\r\n        };\r\n        fetchData();  \r\n    }, [id]);  \r\n\r\n    \r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault(); \r\n        const token = localStorage.getItem('token');\r\n        console.log(\"Form Submitted\"); \r\n        const formData = new FormData();  \r\n        formData.append('description', description);\r\n        formData.append('reference', reference);\r\n        \r\n        if (image) {\r\n            formData.append('postImage', image);  \r\n        }\r\n\r\n        try {\r\n            const response = await axios.post(`http://localhost:5000/edit/${id}`, formData, {\r\n                headers: {\r\n                    'Content-Type': 'multipart/form-data',\r\n                    'Authorization':`Bearer ${token}`\r\n                }\r\n            });\r\n            console.log(response.data);\r\n            navigate(`/post/${id}`);  \r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <form onSubmit={handleSubmit}>\r\n                <input \r\n                    type='text'\r\n                    value={description}\r\n                    onChange={(e) => setDescription(e.target.value)}\r\n                    placeholder=\"Description\"\r\n                />\r\n                <input \r\n                    type='url'\r\n                    value={reference}\r\n                    onChange={(e) => setReference(e.target.value)}\r\n                    placeholder=\"Reference Link\"\r\n                />\r\n                \r\n                {currentImage && <img src={`http://localhost:5000/public/posts/${currentImage}`} alt=\"Current Post\" width=\"200\" />}\r\n                <input \r\n                    type='file'\r\n                    onChange={handleImage}\r\n                />\r\n                <select\r\n                  name=\"category\"\r\n                  value={category}\r\n                  onChange={handleCategory}\r\n                  required\r\n                >\r\n                  <option value=\"\">SelectCategory</option>\r\n                  <option value=\"Event\">Event</option>\r\n                  <option value=\"News\">News</option>\r\n                  <option value=\"Jobs\">Jobs</option>\r\n                  <option value=\"InternShip\">InternShip</option>\r\n                </select>\r\n                <button type='submit'>Submit</button>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default EditPost;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}